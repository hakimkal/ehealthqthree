(function(){"use strict";angular.module("minifb",["ngRoute","ngResource","facebookFeed"]).run(function($rootScope){$rootScope.user={};function getUserProfile(){console.log("getUserProfile");FB.api("/me",{fields:"name, picture"},function(response){$rootScope.profile=response})}function statusChangeCallback(response){console.log("statusChangeCallback");console.log(response);if(response.status==="connected"){getUserProfile();$rootScope.user=response;console.log($rootScope)}else if(response.status==="not_authorized"){document.getElementById("status").innerHTML="Please log "+"into this app."}else{document.getElementById("status").innerHTML="Please log "+"into Facebook."}}function checkLoginState(){FB.getLoginStatus(function(response){statusChangeCallback(response)})}window.fbAsyncInit=function(){FB.init({appId:"1747010768907981",xfbml:true,version:"v2.7"});FB.getLoginStatus(function(response){$rootScope.statusChangeCallback=statusChangeCallback(response)})};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs)})(document,"script","facebook-jssdk")})})();(function(){"use strict";function IndexCtrl($scope){}function AboutCtrl($scope){$scope.title="Login Page."}angular.module("minifb").controller("IndexCtrl",["$scope",IndexCtrl]).controller("aboutController",["$scope",AboutCtrl])})();(function(){"use strict";angular.module("minifb").config(function($routeProvider,$locationProvider){$routeProvider.when("/",{templateUrl:"templates/home.html",controller:"IndexCtrl"}).when("/login",{templateUrl:"templates/about.html",controller:"aboutController"}).when("/contact",{templateUrl:"templates/contact.html",controller:"contactController"}).when("/me",{templateUrl:"templates/me.html",controller:"meCtrl"});$locationProvider.html5Mode({enabled:true,requireBase:false})})})();(function(){"use strict";angular.module("facebookFeed",[]).factory("facebookService",["$q",function($q){return{getMyLastName:function(){console.log(window);return $rootScope.profile}}}])})();(function(){"use strict";angular.module("minifb").controller("meCtrl",["$scope","facebookService",function($scope,facebookService){$scope.title="Welcome to My Profile";$scope.isLoggedIn=false;$scope.getMyLastName=facebookService.getMyLastName().then(function(response){$scope.myProfile=response});console.log($scope)}])})();